var n=require("process"),l="LOGVERSION 3";function t(e){global.main=async s=>{try{var r=await e(s)}catch(i){return console.log(i),console.log("SUCCEEDED false"),console.log(`MEMORY ${n.memoryUsage().rss}`),{statusCode:500,body:"Internal Server Error"}}var o=r.statusCode||200,c={statusCode:o,body:r.body};return console.log(l),console.log(`SUCCEEDED ${o>=200&&o<300}`),console.log(`MEMORY ${n.memoryUsage().rss}`),c}}var a=require("promise-mysql");t(async e=>(await(await(0,a.createConnection)({host:e.sql_host,user:e.sql_user,password:e.sql_password})).query("INSERT INTO incidents (error_name, stack_trace, version) VALUES (?, ?, ?)",[e.error_name,e.stack_trace,e.version]),{body:"Success"}));
